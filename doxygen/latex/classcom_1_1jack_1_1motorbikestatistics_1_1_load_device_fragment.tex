\hypertarget{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment}{}\section{com.\+jack.\+motorbikestatistics.\+Load\+Device\+Fragment Class Reference}
\label{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment}\index{com.\+jack.\+motorbikestatistics.\+Load\+Device\+Fragment@{com.\+jack.\+motorbikestatistics.\+Load\+Device\+Fragment}}


UI Class for loading saved trips from device.  


Inheritance diagram for com.\+jack.\+motorbikestatistics.\+Load\+Device\+Fragment\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_aaa7330cd6556cd8a87e8b226d796d508}{Load\+Device\+Fragment} ()
\begin{DoxyCompactList}\small\item\em Constructor for UI fragment. \end{DoxyCompactList}\item 
View \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a9ad9f0d9ef69417e2131613009c02338}{on\+Create\+View} (Layout\+Inflater inflater, View\+Group container, Bundle saved\+Instance\+State)
\begin{DoxyCompactList}\small\item\em Function called when fragment is shown on UI. \end{DoxyCompactList}\item 
void \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_aec66dc5fd944098de78ace4175fca5b6}{set\+B\+T\+Connection} (\hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_b_t_connection}{B\+T\+Connection} \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a7a446c4528638e9d169481c3ff1471b0}{bt\+Connection})
\begin{DoxyCompactList}\small\item\em Setter for current BT connection. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
final Handler \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a7c26c8686c290d8766b051f31473d716}{R\+X\+Handler}
\begin{DoxyCompactList}\small\item\em Handler used for receiving trip names. \end{DoxyCompactList}\item 
final List\+View.\+On\+Item\+Click\+Listener \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a06ac1ecf82b1709e25421b1b77eb768c}{trip\+Click\+Listener}
\begin{DoxyCompactList}\small\item\em Listener used to identify when a trip has been pressed. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
final void \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a23957dbe1518052c7167d86938a14c35}{add\+Trip} (J\+S\+O\+N\+Object json\+Data)
\begin{DoxyCompactList}\small\item\em Adds a trip to the List\+View specifying name and filesize. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a7a446c4528638e9d169481c3ff1471b0}\label{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a7a446c4528638e9d169481c3ff1471b0}} 
\hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_b_t_connection}{B\+T\+Connection} \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a7a446c4528638e9d169481c3ff1471b0}{bt\+Connection} = null
\begin{DoxyCompactList}\small\item\em Current connectected logging device (via bluetooth). \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a92be11df86dfe159ecbdaff59e526464}\label{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a92be11df86dfe159ecbdaff59e526464}} 
Array\+List$<$ \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_trip_item}{Trip\+Item} $>$ \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a92be11df86dfe159ecbdaff59e526464}{trip\+List}
\begin{DoxyCompactList}\small\item\em List of all trips saved on the logging device. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a3ccc43db37a3b6d9a7dc345e9ab78d6b}\label{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a3ccc43db37a3b6d9a7dc345e9ab78d6b}} 
Array\+Adapter$<$ \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_trip_item}{Trip\+Item} $>$ \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a3ccc43db37a3b6d9a7dc345e9ab78d6b}{lv\+Adapter}
\begin{DoxyCompactList}\small\item\em Array adapter for displaying trips in List\+View. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_aca212e892559df75e77d2d24870195e1}\label{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_aca212e892559df75e77d2d24870195e1}} 
static final String \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_aca212e892559df75e77d2d24870195e1}{N\+E\+W\+\_\+\+L\+I\+NE} = \char`\"{}\textbackslash{}r\textbackslash{}n\char`\"{}
\begin{DoxyCompactList}\small\item\em New line string. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a484328e2963103665fae8801557bef73}\label{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a484328e2963103665fae8801557bef73}} 
static final String \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a484328e2963103665fae8801557bef73}{L\+O\+A\+D\+\_\+\+T\+R\+I\+P\+\_\+\+C\+H\+AR} = \char`\"{}3\char`\"{}
\begin{DoxyCompactList}\small\item\em Command string to be sent to device to load a specific trip. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
UI Class for loading saved trips from device. 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_aaa7330cd6556cd8a87e8b226d796d508}\label{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_aaa7330cd6556cd8a87e8b226d796d508}} 
\index{com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment@{com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment}!Load\+Device\+Fragment@{Load\+Device\+Fragment}}
\index{Load\+Device\+Fragment@{Load\+Device\+Fragment}!com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment@{com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment}}
\subsubsection{\texorpdfstring{Load\+Device\+Fragment()}{LoadDeviceFragment()}}
{\footnotesize\ttfamily com.\+jack.\+motorbikestatistics.\+Load\+Device\+Fragment.\+Load\+Device\+Fragment (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructor for UI fragment. 

Creates a new arraylist of trips that is empty and ready to be filled from the logging device. 
\begin{DoxyCode}
55                                 \{
56         \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a92be11df86dfe159ecbdaff59e526464}{tripList} = \textcolor{keyword}{new} ArrayList<TripItem>();
57     \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a9ad9f0d9ef69417e2131613009c02338}\label{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a9ad9f0d9ef69417e2131613009c02338}} 
\index{com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment@{com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment}!on\+Create\+View@{on\+Create\+View}}
\index{on\+Create\+View@{on\+Create\+View}!com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment@{com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment}}
\subsubsection{\texorpdfstring{on\+Create\+View()}{onCreateView()}}
{\footnotesize\ttfamily View com.\+jack.\+motorbikestatistics.\+Load\+Device\+Fragment.\+on\+Create\+View (\begin{DoxyParamCaption}\item[{Layout\+Inflater}]{inflater,  }\item[{View\+Group}]{container,  }\item[{Bundle}]{saved\+Instance\+State }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Function called when fragment is shown on UI. 

Sets up the List\+View on the screen using our custom Array\+Adapter specificed.


\begin{DoxyParams}{Parameters}
{\em inflater} & -\/ Inflater used to load fragment on UI. \\
\hline
{\em container} & -\/ Container where fragment will be shown. \\
\hline
{\em saved\+Instance} & -\/ Information holding past state. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
View -\/ Modified view to display on the UI. 
\end{DoxyReturn}


References com.\+jack.\+motorbikestatistics.\+Load\+Device\+Fragment.\+trip\+Click\+Listener.


\begin{DoxyCode}
72                                                                                                       \{
73         View myView = inflater.inflate(R.layout.loaddevice\_layout, container, \textcolor{keyword}{false});
74 
75         \textcolor{comment}{/* Get our ListView via ID, set headers and create our ArrayAdapter for it */}
76         ListView lvTripList = (ListView)myView.findViewById(R.id.loaddevice\_triplist);
77         lvTripList.setOnItemClickListener(\hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a06ac1ecf82b1709e25421b1b77eb768c}{tripClickListener});
78 
79         ViewGroup headerView = (ViewGroup)inflater.inflate(R.layout.trip\_list\_header, lvTripList, \textcolor{keyword}{false});
80         lvTripList.addHeaderView(headerView);
81 
82         \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a3ccc43db37a3b6d9a7dc345e9ab78d6b}{lvAdapter} = \textcolor{keyword}{new} TripListAdapter(getActivity(), R.layout.trip\_list\_item, 
      \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a92be11df86dfe159ecbdaff59e526464}{tripList});
83         lvTripList.setAdapter(\hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a3ccc43db37a3b6d9a7dc345e9ab78d6b}{lvAdapter});
84 
85         \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a92be11df86dfe159ecbdaff59e526464}{tripList}.clear();
86         \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a3ccc43db37a3b6d9a7dc345e9ab78d6b}{lvAdapter}.notifyDataSetChanged();
87 
88         \textcolor{keywordflow}{return} myView;
89     \}
\end{DoxyCode}
\mbox{\Hypertarget{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_aec66dc5fd944098de78ace4175fca5b6}\label{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_aec66dc5fd944098de78ace4175fca5b6}} 
\index{com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment@{com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment}!set\+B\+T\+Connection@{set\+B\+T\+Connection}}
\index{set\+B\+T\+Connection@{set\+B\+T\+Connection}!com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment@{com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment}}
\subsubsection{\texorpdfstring{set\+B\+T\+Connection()}{setBTConnection()}}
{\footnotesize\ttfamily void com.\+jack.\+motorbikestatistics.\+Load\+Device\+Fragment.\+set\+B\+T\+Connection (\begin{DoxyParamCaption}\item[{\hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_b_t_connection}{B\+T\+Connection}}]{bt\+Connection }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Setter for current BT connection. 

Set from main UI activity, allows cross tab communication with the logging device.


\begin{DoxyParams}{Parameters}
{\em bt\+Connection} & -\/ Logging device bluetooth connection. \\
\hline
\end{DoxyParams}


References com.\+jack.\+motorbikestatistics.\+Load\+Device\+Fragment.\+bt\+Connection.


\begin{DoxyCode}
99                                                            \{
100         this.\hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a7a446c4528638e9d169481c3ff1471b0}{btConnection} = \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a7a446c4528638e9d169481c3ff1471b0}{btConnection};
101     \}
\end{DoxyCode}
\mbox{\Hypertarget{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a23957dbe1518052c7167d86938a14c35}\label{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a23957dbe1518052c7167d86938a14c35}} 
\index{com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment@{com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment}!add\+Trip@{add\+Trip}}
\index{add\+Trip@{add\+Trip}!com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment@{com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment}}
\subsubsection{\texorpdfstring{add\+Trip()}{addTrip()}}
{\footnotesize\ttfamily final void com.\+jack.\+motorbikestatistics.\+Load\+Device\+Fragment.\+add\+Trip (\begin{DoxyParamCaption}\item[{J\+S\+O\+N\+Object}]{json\+Data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Adds a trip to the List\+View specifying name and filesize. 


\begin{DoxyParams}{Parameters}
{\em json\+Data} & -\/ J\+S\+ON object holding trip name and size. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
108                                                     \{
109         \textcolor{keywordflow}{try} \{
110 
111             \textcolor{comment}{/* Get name and size from json object */}
112             String tripName = jsonData.getString(\textcolor{stringliteral}{"name"});
113             \textcolor{keywordtype}{int} fileSize = jsonData.getInt(\textcolor{stringliteral}{"size"});
114 
115             \textcolor{comment}{/* Add new trip to our list & notify list view */}
116             TripItem newTrip = \textcolor{keyword}{new} TripItem(tripName, fileSize);
117             \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a92be11df86dfe159ecbdaff59e526464}{tripList}.add(newTrip);
118             \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a3ccc43db37a3b6d9a7dc345e9ab78d6b}{lvAdapter}.notifyDataSetChanged();
119 
120         \} \textcolor{keywordflow}{catch} (JSONException e) \{
121             \textcolor{comment}{/* Do nothing */}
122         \}
123     \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a7c26c8686c290d8766b051f31473d716}\label{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a7c26c8686c290d8766b051f31473d716}} 
\index{com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment@{com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment}!R\+X\+Handler@{R\+X\+Handler}}
\index{R\+X\+Handler@{R\+X\+Handler}!com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment@{com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment}}
\subsubsection{\texorpdfstring{R\+X\+Handler}{RXHandler}}
{\footnotesize\ttfamily final Handler com.\+jack.\+motorbikestatistics.\+Load\+Device\+Fragment.\+R\+X\+Handler}

{\bfseries Initial value\+:}
\begin{DoxyCode}
= \textcolor{keyword}{new} Handler(Looper.getMainLooper()) \{

        
        @Override
        \textcolor{keyword}{public} \textcolor{keywordtype}{void} handleMessage(Message msg) \{

            Bundle msgData = msg.getData();
            String jsonString = msgData.getString(\textcolor{stringliteral}{"JSON"});

            \textcolor{keywordflow}{if} (jsonString != null) \{

                
                \textcolor{keywordflow}{try} \{
                    JSONObject tmpJSON = \textcolor{keyword}{new} JSONObject(jsonString);
                    \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a23957dbe1518052c7167d86938a14c35}{addTrip}(tmpJSON);

                \} \textcolor{keywordflow}{catch} (JSONException e) \{
                    
                \}
            \}
        \}
    \}
\end{DoxyCode}


Handler used for receiving trip names. 

Receives trip information from the bluetooth connection thread. Handler has to be used as system is multithreaded. \mbox{\Hypertarget{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a06ac1ecf82b1709e25421b1b77eb768c}\label{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a06ac1ecf82b1709e25421b1b77eb768c}} 
\index{com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment@{com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment}!trip\+Click\+Listener@{trip\+Click\+Listener}}
\index{trip\+Click\+Listener@{trip\+Click\+Listener}!com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment@{com\+::jack\+::motorbikestatistics\+::\+Load\+Device\+Fragment}}
\subsubsection{\texorpdfstring{trip\+Click\+Listener}{tripClickListener}}
{\footnotesize\ttfamily final List\+View.\+On\+Item\+Click\+Listener com.\+jack.\+motorbikestatistics.\+Load\+Device\+Fragment.\+trip\+Click\+Listener}

{\bfseries Initial value\+:}
\begin{DoxyCode}
= \textcolor{keyword}{new} ListView.OnItemClickListener() \{

        
        @Override
        \textcolor{keyword}{public} \textcolor{keywordtype}{void} onItemClick(AdapterView<?> parent, View view, \textcolor{keywordtype}{int} position, \textcolor{keywordtype}{long} \textcolor{keywordtype}{id}) \{

            \textcolor{keywordflow}{if} (\hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a7a446c4528638e9d169481c3ff1471b0}{btConnection} != null && \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a7a446c4528638e9d169481c3ff1471b0}{btConnection}.
      \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_b_t_connection_a22f33e46d9f460d78865d4c63b645357}{isConnected}()) \{
                TripItem tripItem = (TripItem) parent.getItemAtPosition(position);

                
                RealtimeFragment statFragment = \textcolor{keyword}{new} RealtimeFragment();
                \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a7a446c4528638e9d169481c3ff1471b0}{btConnection}.\hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_b_t_connection_aae8ee75e78f5beff98572bf3b13a60b8}{setRXHandler}(statFragment.RXHandler);

                
                Message message = \textcolor{keyword}{new} Message();
                message.obj = (String) \hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a484328e2963103665fae8801557bef73}{LOAD\_TRIP\_CHAR} + tripItem.getTripName();
                message.setTarget(\hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_load_device_fragment_a7a446c4528638e9d169481c3ff1471b0}{btConnection}.\hyperlink{classcom_1_1jack_1_1motorbikestatistics_1_1_b_t_connection_a7a88b2007af6a9a5c8667a9f1df980cc}{txHandler});
                message.sendToTarget();

                FragmentManager fragmentManager = getFragmentManager();
                fragmentManager.beginTransaction()
                        .replace(R.id.content\_frame, statFragment)
                        .commit();
            \}
        \}
    \}
\end{DoxyCode}


Listener used to identify when a trip has been pressed. 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
android-\/app/app/src/main/java/com/jack/motorbikestatistics/\hyperlink{_load_device_fragment_8java}{Load\+Device\+Fragment.\+java}\end{DoxyCompactItemize}
