\hypertarget{class_android_app_1_1_load_device_fragment}{}\section{Android\+App.\+Load\+Device\+Fragment Class Reference}
\label{class_android_app_1_1_load_device_fragment}\index{Android\+App.\+Load\+Device\+Fragment@{Android\+App.\+Load\+Device\+Fragment}}


UI Class for loading saved trips from device.  


Inheritance diagram for Android\+App.\+Load\+Device\+Fragment\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_android_app_1_1_load_device_fragment}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{class_android_app_1_1_load_device_fragment_1_1_trip_item_listener}{Trip\+Item\+Listener}
\begin{DoxyCompactList}\small\item\em Listener used to identify when a trip has been pressed. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_android_app_1_1_load_device_fragment_a2a090a4a947fb44a024a1d3c920b3b63}{Load\+Device\+Fragment} ()
\begin{DoxyCompactList}\small\item\em Constructor for UI fragment. \end{DoxyCompactList}\item 
View \hyperlink{class_android_app_1_1_load_device_fragment_af1a028ea902679e9bcc967c1b54b2451}{on\+Create\+View} (Layout\+Inflater inflater, View\+Group container, Bundle saved\+Instance\+State)
\begin{DoxyCompactList}\small\item\em Function called when fragment is shown on UI. \end{DoxyCompactList}\item 
void \hyperlink{class_android_app_1_1_load_device_fragment_a77ce93090f6c8c6aac522e35bfe9d21b}{set\+B\+T\+Connection} (\hyperlink{class_android_app_1_1_b_t_connection}{B\+T\+Connection} \hyperlink{class_android_app_1_1_load_device_fragment_a245147c7d3683cf1556680a382f328a9}{bt\+Connection})
\begin{DoxyCompactList}\small\item\em Setter for current BT connection. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
final Handler \hyperlink{class_android_app_1_1_load_device_fragment_ad37565ea5a5332faf0c6b12284ca4e6c}{R\+X\+Handler}
\begin{DoxyCompactList}\small\item\em Handler used for receiving trip names. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
final void \hyperlink{class_android_app_1_1_load_device_fragment_a182949dc35ed68974acf64e20cdc6f20}{add\+Trip} (J\+S\+O\+N\+Object json\+Data)
\begin{DoxyCompactList}\small\item\em Adds a trip to the List\+View specifying name and filesize. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_android_app_1_1_load_device_fragment_a245147c7d3683cf1556680a382f328a9}\label{class_android_app_1_1_load_device_fragment_a245147c7d3683cf1556680a382f328a9}} 
\hyperlink{class_android_app_1_1_b_t_connection}{B\+T\+Connection} \hyperlink{class_android_app_1_1_load_device_fragment_a245147c7d3683cf1556680a382f328a9}{bt\+Connection} = null
\begin{DoxyCompactList}\small\item\em Current connectected logging device (via bluetooth). \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_android_app_1_1_load_device_fragment_a23e4856334c9782e15f7f7a08b544f4c}\label{class_android_app_1_1_load_device_fragment_a23e4856334c9782e15f7f7a08b544f4c}} 
Array\+List$<$ \hyperlink{class_android_app_1_1_trip_item}{Trip\+Item} $>$ \hyperlink{class_android_app_1_1_load_device_fragment_a23e4856334c9782e15f7f7a08b544f4c}{trip\+List}
\begin{DoxyCompactList}\small\item\em List of all trips saved on the logging device. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_android_app_1_1_load_device_fragment_a96c2356cc65e934741c31ff3839ed9d3}\label{class_android_app_1_1_load_device_fragment_a96c2356cc65e934741c31ff3839ed9d3}} 
Array\+Adapter$<$ \hyperlink{class_android_app_1_1_trip_item}{Trip\+Item} $>$ \hyperlink{class_android_app_1_1_load_device_fragment_a96c2356cc65e934741c31ff3839ed9d3}{lv\+Adapter}
\begin{DoxyCompactList}\small\item\em Array adapter for displaying trips in List\+View. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_android_app_1_1_load_device_fragment_a4ceeef3ad914b52120973b83335a7b72}\label{class_android_app_1_1_load_device_fragment_a4ceeef3ad914b52120973b83335a7b72}} 
static final String \hyperlink{class_android_app_1_1_load_device_fragment_a4ceeef3ad914b52120973b83335a7b72}{N\+E\+W\+\_\+\+L\+I\+NE} = \char`\"{}\textbackslash{}r\textbackslash{}n\char`\"{}
\begin{DoxyCompactList}\small\item\em New line string. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_android_app_1_1_load_device_fragment_afdfe423809d2267938f21eb4c5501653}\label{class_android_app_1_1_load_device_fragment_afdfe423809d2267938f21eb4c5501653}} 
static final String \hyperlink{class_android_app_1_1_load_device_fragment_afdfe423809d2267938f21eb4c5501653}{L\+O\+A\+D\+\_\+\+T\+R\+I\+P\+\_\+\+C\+H\+AR} = \char`\"{}3\char`\"{}
\begin{DoxyCompactList}\small\item\em Command string to be sent to device to load a specific trip. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
UI Class for loading saved trips from device. 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_android_app_1_1_load_device_fragment_a2a090a4a947fb44a024a1d3c920b3b63}\label{class_android_app_1_1_load_device_fragment_a2a090a4a947fb44a024a1d3c920b3b63}} 
\index{Android\+App\+::\+Load\+Device\+Fragment@{Android\+App\+::\+Load\+Device\+Fragment}!Load\+Device\+Fragment@{Load\+Device\+Fragment}}
\index{Load\+Device\+Fragment@{Load\+Device\+Fragment}!Android\+App\+::\+Load\+Device\+Fragment@{Android\+App\+::\+Load\+Device\+Fragment}}
\subsubsection{\texorpdfstring{Load\+Device\+Fragment()}{LoadDeviceFragment()}}
{\footnotesize\ttfamily Android\+App.\+Load\+Device\+Fragment.\+Load\+Device\+Fragment (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructor for UI fragment. 

Creates a new arraylist of trips that is empty and ready to be filled from the logging device. 
\begin{DoxyCode}
55                                 \{
56         \hyperlink{class_android_app_1_1_load_device_fragment_a23e4856334c9782e15f7f7a08b544f4c}{tripList} = \textcolor{keyword}{new} ArrayList<TripItem>();
57     \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_android_app_1_1_load_device_fragment_af1a028ea902679e9bcc967c1b54b2451}\label{class_android_app_1_1_load_device_fragment_af1a028ea902679e9bcc967c1b54b2451}} 
\index{Android\+App\+::\+Load\+Device\+Fragment@{Android\+App\+::\+Load\+Device\+Fragment}!on\+Create\+View@{on\+Create\+View}}
\index{on\+Create\+View@{on\+Create\+View}!Android\+App\+::\+Load\+Device\+Fragment@{Android\+App\+::\+Load\+Device\+Fragment}}
\subsubsection{\texorpdfstring{on\+Create\+View()}{onCreateView()}}
{\footnotesize\ttfamily View Android\+App.\+Load\+Device\+Fragment.\+on\+Create\+View (\begin{DoxyParamCaption}\item[{Layout\+Inflater}]{inflater,  }\item[{View\+Group}]{container,  }\item[{Bundle}]{saved\+Instance\+State }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Function called when fragment is shown on UI. 

Sets up the List\+View on the screen using our custom Array\+Adapter specificed.


\begin{DoxyParams}{Parameters}
{\em inflater} & -\/ Inflater used to load fragment on UI. \\
\hline
{\em container} & -\/ Container where fragment will be shown. \\
\hline
{\em saved\+Instance\+State} & -\/ Information holding past state. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
View -\/ Modified view to display on the UI. 
\end{DoxyReturn}

\begin{DoxyCode}
72                                                                                                       \{
73         View myView = inflater.inflate(R.layout.loaddevice\_layout, container, \textcolor{keyword}{false});
74 
75         \textcolor{comment}{/* Get our ListView via ID, set headers and create our ArrayAdapter for it */}
76         ListView lvTripList = (ListView)myView.findViewById(R.id.loaddevice\_triplist);
77         lvTripList.setOnItemClickListener(\textcolor{keyword}{new} TripItemListener());
78 
79         ViewGroup headerView = (ViewGroup)inflater.inflate(R.layout.trip\_list\_header, lvTripList, \textcolor{keyword}{false});
80         lvTripList.addHeaderView(headerView);
81 
82         \hyperlink{class_android_app_1_1_load_device_fragment_a96c2356cc65e934741c31ff3839ed9d3}{lvAdapter} = \textcolor{keyword}{new} TripListAdapter(getActivity(), R.layout.trip\_list\_item, 
      \hyperlink{class_android_app_1_1_load_device_fragment_a23e4856334c9782e15f7f7a08b544f4c}{tripList});
83         lvTripList.setAdapter(\hyperlink{class_android_app_1_1_load_device_fragment_a96c2356cc65e934741c31ff3839ed9d3}{lvAdapter});
84 
85         \hyperlink{class_android_app_1_1_load_device_fragment_a23e4856334c9782e15f7f7a08b544f4c}{tripList}.clear();
86         \hyperlink{class_android_app_1_1_load_device_fragment_a96c2356cc65e934741c31ff3839ed9d3}{lvAdapter}.notifyDataSetChanged();
87 
88         \textcolor{keywordflow}{return} myView;
89     \}
\end{DoxyCode}
\mbox{\Hypertarget{class_android_app_1_1_load_device_fragment_a77ce93090f6c8c6aac522e35bfe9d21b}\label{class_android_app_1_1_load_device_fragment_a77ce93090f6c8c6aac522e35bfe9d21b}} 
\index{Android\+App\+::\+Load\+Device\+Fragment@{Android\+App\+::\+Load\+Device\+Fragment}!set\+B\+T\+Connection@{set\+B\+T\+Connection}}
\index{set\+B\+T\+Connection@{set\+B\+T\+Connection}!Android\+App\+::\+Load\+Device\+Fragment@{Android\+App\+::\+Load\+Device\+Fragment}}
\subsubsection{\texorpdfstring{set\+B\+T\+Connection()}{setBTConnection()}}
{\footnotesize\ttfamily void Android\+App.\+Load\+Device\+Fragment.\+set\+B\+T\+Connection (\begin{DoxyParamCaption}\item[{\hyperlink{class_android_app_1_1_b_t_connection}{B\+T\+Connection}}]{bt\+Connection }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Setter for current BT connection. 

Set from main UI activity, allows cross tab communication with the logging device.


\begin{DoxyParams}{Parameters}
{\em bt\+Connection} & -\/ Logging device bluetooth connection. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
99                                                            \{
100         this.\hyperlink{class_android_app_1_1_load_device_fragment_a245147c7d3683cf1556680a382f328a9}{btConnection} = \hyperlink{class_android_app_1_1_load_device_fragment_a245147c7d3683cf1556680a382f328a9}{btConnection};
101     \}
\end{DoxyCode}
\mbox{\Hypertarget{class_android_app_1_1_load_device_fragment_a182949dc35ed68974acf64e20cdc6f20}\label{class_android_app_1_1_load_device_fragment_a182949dc35ed68974acf64e20cdc6f20}} 
\index{Android\+App\+::\+Load\+Device\+Fragment@{Android\+App\+::\+Load\+Device\+Fragment}!add\+Trip@{add\+Trip}}
\index{add\+Trip@{add\+Trip}!Android\+App\+::\+Load\+Device\+Fragment@{Android\+App\+::\+Load\+Device\+Fragment}}
\subsubsection{\texorpdfstring{add\+Trip()}{addTrip()}}
{\footnotesize\ttfamily final void Android\+App.\+Load\+Device\+Fragment.\+add\+Trip (\begin{DoxyParamCaption}\item[{J\+S\+O\+N\+Object}]{json\+Data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Adds a trip to the List\+View specifying name and filesize. 


\begin{DoxyParams}{Parameters}
{\em json\+Data} & -\/ J\+S\+ON object holding trip name and size. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
108                                                     \{
109         \textcolor{keywordflow}{try} \{
110 
111             \textcolor{comment}{/* Get name and size from json object */}
112             String tripName = jsonData.getString(\textcolor{stringliteral}{"name"});
113             \textcolor{keywordtype}{int} fileSize = jsonData.getInt(\textcolor{stringliteral}{"size"});
114 
115             \textcolor{comment}{/* Add new trip to our list & notify list view */}
116             TripItem newTrip = \textcolor{keyword}{new} TripItem(tripName, fileSize);
117             \hyperlink{class_android_app_1_1_load_device_fragment_a23e4856334c9782e15f7f7a08b544f4c}{tripList}.add(newTrip);
118             \hyperlink{class_android_app_1_1_load_device_fragment_a96c2356cc65e934741c31ff3839ed9d3}{lvAdapter}.notifyDataSetChanged();
119 
120         \} \textcolor{keywordflow}{catch} (JSONException e) \{
121             \textcolor{comment}{/* Do nothing */}
122         \}
123     \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_android_app_1_1_load_device_fragment_ad37565ea5a5332faf0c6b12284ca4e6c}\label{class_android_app_1_1_load_device_fragment_ad37565ea5a5332faf0c6b12284ca4e6c}} 
\index{Android\+App\+::\+Load\+Device\+Fragment@{Android\+App\+::\+Load\+Device\+Fragment}!R\+X\+Handler@{R\+X\+Handler}}
\index{R\+X\+Handler@{R\+X\+Handler}!Android\+App\+::\+Load\+Device\+Fragment@{Android\+App\+::\+Load\+Device\+Fragment}}
\subsubsection{\texorpdfstring{R\+X\+Handler}{RXHandler}}
{\footnotesize\ttfamily final Handler Android\+App.\+Load\+Device\+Fragment.\+R\+X\+Handler}

{\bfseries Initial value\+:}
\begin{DoxyCode}
= \textcolor{keyword}{new} Handler(Looper.getMainLooper()) \{

        
        @Override
        \textcolor{keyword}{public} \textcolor{keywordtype}{void} handleMessage(Message msg) \{

            Bundle msgData = msg.getData();
            String jsonString = msgData.getString(\textcolor{stringliteral}{"JSON"});

            \textcolor{keywordflow}{if} (jsonString != null) \{

                
                \textcolor{keywordflow}{try} \{
                    JSONObject tmpJSON = \textcolor{keyword}{new} JSONObject(jsonString);
                    \hyperlink{class_android_app_1_1_load_device_fragment_a182949dc35ed68974acf64e20cdc6f20}{addTrip}(tmpJSON);

                \} \textcolor{keywordflow}{catch} (JSONException e) \{
                    
                \}
            \}
        \}
    \}
\end{DoxyCode}


Handler used for receiving trip names. 

Receives trip information from the bluetooth connection thread. Handler has to be used as system is multithreaded. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
android-\/app/app/src/main/java/com/jack/motorbikestatistics/\hyperlink{_load_device_fragment_8java}{Load\+Device\+Fragment.\+java}\end{DoxyCompactItemize}
