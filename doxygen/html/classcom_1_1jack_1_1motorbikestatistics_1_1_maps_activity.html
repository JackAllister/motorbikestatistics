<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Motorbike Statistics: com.jack.motorbikestatistics.MapsActivity Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Motorbike Statistics
   </div>
   <div id="projectbrief">A system for logging statistics of motorbikes</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>com</b></li><li class="navelem"><b>jack</b></li><li class="navelem"><b>motorbikestatistics</b></li><li class="navelem"><a class="el" href="classcom_1_1jack_1_1motorbikestatistics_1_1_maps_activity.html">MapsActivity</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classcom_1_1jack_1_1motorbikestatistics_1_1_maps_activity-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">com.jack.motorbikestatistics.MapsActivity Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for com.jack.motorbikestatistics.MapsActivity:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classcom_1_1jack_1_1motorbikestatistics_1_1_maps_activity.png" usemap="#com.jack.motorbikestatistics.MapsActivity_map" alt=""/>
  <map id="com.jack.motorbikestatistics.MapsActivity_map" name="com.jack.motorbikestatistics.MapsActivity_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aefa35b548b2f39bb46b2cb5024be383c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1jack_1_1motorbikestatistics_1_1_maps_activity.html#aefa35b548b2f39bb46b2cb5024be383c">onMapReady</a> (GoogleMap googleMap)</td></tr>
<tr class="separator:aefa35b548b2f39bb46b2cb5024be383c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:afd23eb0cf651de276a9b85bb5fa609b8"><td class="memItemLeft" align="right" valign="top"><a id="afd23eb0cf651de276a9b85bb5fa609b8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onCreate</b> (Bundle savedInstanceState)</td></tr>
<tr class="separator:afd23eb0cf651de276a9b85bb5fa609b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a0c72fcb79424420c3477add9ba6ab447"><td class="memItemLeft" align="right" valign="top"><a id="a0c72fcb79424420c3477add9ba6ab447"></a>
boolean&#160;</td><td class="memItemRight" valign="bottom"><b>getJSONObjects</b> ()</td></tr>
<tr class="separator:a0c72fcb79424420c3477add9ba6ab447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5478e56dfb617433d0dfaeb94a403c7"><td class="memItemLeft" align="right" valign="top"><a id="ae5478e56dfb617433d0dfaeb94a403c7"></a>
JSONObject&#160;</td><td class="memItemRight" valign="bottom"><b>findJSONByLatLng</b> (LatLng position)</td></tr>
<tr class="separator:ae5478e56dfb617433d0dfaeb94a403c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4feb7617c02a59c62d6e9257914e997"><td class="memItemLeft" align="right" valign="top"><a id="af4feb7617c02a59c62d6e9257914e997"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>calcDistance</b> (LatLng start, LatLng end)</td></tr>
<tr class="separator:af4feb7617c02a59c62d6e9257914e997"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aaace5219464acf3df9ac5e9ce913eef5"><td class="memItemLeft" align="right" valign="top"><a id="aaace5219464acf3df9ac5e9ce913eef5"></a>
GoogleMap&#160;</td><td class="memItemRight" valign="bottom"><b>mMap</b></td></tr>
<tr class="separator:aaace5219464acf3df9ac5e9ce913eef5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaed26c36e08dad942830ab52d9d75d2e"><td class="memItemLeft" align="right" valign="top"><a id="aaed26c36e08dad942830ab52d9d75d2e"></a>
ArrayList&lt; JSONObject &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>jsonList</b> = new ArrayList&lt;JSONObject&gt;()</td></tr>
<tr class="separator:aaed26c36e08dad942830ab52d9d75d2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aefa35b548b2f39bb46b2cb5024be383c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefa35b548b2f39bb46b2cb5024be383c">&#9670;&nbsp;</a></span>onMapReady()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.jack.motorbikestatistics.MapsActivity.onMapReady </td>
          <td>(</td>
          <td class="paramtype">GoogleMap&#160;</td>
          <td class="paramname"><em>googleMap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Manipulates the map once available. This callback is triggered when the map is ready to be used. This is where we can add markers or lines, add listeners or move the camera. In this case, we just add a marker near Sydney, Australia. If Google Play services is not installed on the device, the user will be prompted to install it inside the SupportMapFragment. This method will only be triggered once the user has installed Google Play services and returned to the app. </p>

<p class="reference">References <a class="el" href="logging-device_8ino.html#a548727e041a5cd3db91bdbd0ccd71e30">gpsJSON</a>, <a class="el" href="logging-device_8ino.html#ae8e95a76df2aaa373792e5b744a6bb73">orientJSON</a>, and <a class="el" href="logging-device_8ino.html#acc172a29cb5ff709b48b650d9fb6503c">timeJSON</a>.</p>
<div class="fragment"><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                                {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        mMap = googleMap;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        mMap.setMapType(GoogleMap.MAP_TYPE_HYBRID);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="comment">/* Create our info window adapter class that is shown when marker clicked */</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        mMap.setInfoWindowAdapter(<span class="keyword">new</span> GoogleMap.InfoWindowAdapter() {</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            @Override</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="keyword">public</span> View getInfoWindow(Marker marker) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            @Override</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="keyword">public</span> View getInfoContents(Marker marker) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                View v =  getLayoutInflater().inflate(R.layout.map_marker_info, null);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                <span class="comment">/* Get latitude and longitude from marker */</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                LatLng latlng = marker.getPosition();</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                <span class="comment">/* Find the JSONObject relating to this location */</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                JSONObject rootJSON = findJSONByLatLng(latlng);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                <span class="keywordflow">if</span> (rootJSON != null) {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                    <span class="keywordflow">try</span> {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                        JSONObject <a class="code" href="logging-device_8ino.html#a548727e041a5cd3db91bdbd0ccd71e30">gpsJSON</a> = rootJSON.getJSONObject(<span class="stringliteral">&quot;gps&quot;</span>);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                        JSONObject <a class="code" href="logging-device_8ino.html#ae8e95a76df2aaa373792e5b744a6bb73">orientJSON</a> = rootJSON.getJSONObject(<span class="stringliteral">&quot;orientation&quot;</span>);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                        JSONObject <a class="code" href="logging-device_8ino.html#acc172a29cb5ff709b48b650d9fb6503c">timeJSON</a> = rootJSON.getJSONObject(<span class="stringliteral">&quot;time&quot;</span>);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                        <span class="comment">/* Set latitude and longitude in info window */</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                        TextView tvLatLng = (TextView)v.findViewById(R.id.map_latlng);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                        tvLatLng.setText(<span class="stringliteral">&quot;Lat/Lng: &quot;</span> + Double.toString(latlng.latitude) + <span class="stringliteral">&quot;/&quot;</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                                + Double.toString(latlng.longitude));</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                        <span class="comment">/* Set time */</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                        TextView tvTime = (TextView)v.findViewById(R.id.map_time);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                        Calendar cal = Calendar.getInstance();</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                        cal.clear();</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                        cal.set(Calendar.YEAR, timeJSON.getInt(<span class="stringliteral">&quot;year&quot;</span>));</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                        cal.set(Calendar.MONTH, timeJSON.getInt(<span class="stringliteral">&quot;month&quot;</span>));</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                        cal.set(Calendar.DATE, timeJSON.getInt(<span class="stringliteral">&quot;day&quot;</span>));</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                        cal.set(Calendar.HOUR, timeJSON.getInt(<span class="stringliteral">&quot;hour&quot;</span>));</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                        cal.set(Calendar.MINUTE, timeJSON.getInt(<span class="stringliteral">&quot;minute&quot;</span>));</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                        cal.set(Calendar.SECOND, timeJSON.getInt(<span class="stringliteral">&quot;second&quot;</span>));</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                        cal.set(Calendar.MILLISECOND, timeJSON.getInt(<span class="stringliteral">&quot;centiseconds&quot;</span>) * 10);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                        <span class="comment">/* Create format for date and times then add to view */</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                        DateFormat dateFormat = <span class="keyword">new</span> SimpleDateFormat(<span class="stringliteral">&quot;dd/MM/yy HH:mm:ss.SS&quot;</span>);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                        tvTime.setText(<span class="stringliteral">&quot;Time: &quot;</span> + dateFormat.format(cal.getTime()));</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                        <span class="comment">/* Velocity &amp; Altitude */</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                        TextView tvVelocity = (TextView)v.findViewById(R.id.map_velocity);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                        tvVelocity.setText(<span class="stringliteral">&quot;Velocity: &quot;</span> + gpsJSON.getDouble(<span class="stringliteral">&quot;vel_mph&quot;</span>) + <span class="stringliteral">&quot;mph&quot;</span>);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                        TextView tvAltitude = (TextView)v.findViewById(R.id.map_altitude);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                        tvAltitude.setText(<span class="stringliteral">&quot;Altitude: &quot;</span> + gpsJSON.getDouble(<span class="stringliteral">&quot;alt_ft&quot;</span>) + <span class="stringliteral">&quot;ft&quot;</span>);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                        <span class="comment">/* Orientation */</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                        TextView tvPitch = (TextView)v.findViewById(R.id.map_pitch);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                        tvPitch.setText(<span class="stringliteral">&quot;Pitch Angle: &quot;</span> + orientJSON.getDouble(<span class="stringliteral">&quot;pitch&quot;</span>) + <span class="stringliteral">&quot;\u00b0&quot;</span>);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                        TextView tvRoll = (TextView)v.findViewById(R.id.map_roll);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                        tvRoll.setText(<span class="stringliteral">&quot;Roll/Lean Angle: &quot;</span> + orientJSON.getDouble(<span class="stringliteral">&quot;roll&quot;</span>) + <span class="stringliteral">&quot;\u00b0&quot;</span>);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    } <span class="keywordflow">catch</span> (JSONException e) {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                        marker.hideInfoWindow();</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                    }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                    <span class="comment">/* If unable to find relating we hide the info window */</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                    marker.hideInfoWindow();</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                <span class="keywordflow">return</span> v;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            }</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        });</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">if</span> (jsonList.size() != 0)</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="comment">/* lineOpts will store our route */</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            PolylineOptions lineOpts = <span class="keyword">new</span> PolylineOptions();</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            lineOpts.color(Color.parseColor( <span class="stringliteral">&quot;#CC0000FF&quot;</span>));</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            lineOpts.width(5);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            lineOpts.visible(<span class="keyword">true</span>);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                LatLng lastMarker = null;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; jsonList.size(); i++)</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                    JSONObject rootJSON = jsonList.get(i);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                    JSONObject gpsJSON = rootJSON.getJSONObject(<span class="stringliteral">&quot;gps&quot;</span>);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                    Double lat = gpsJSON.getDouble(<span class="stringliteral">&quot;lat&quot;</span>);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                    Double lng = gpsJSON.getDouble(<span class="stringliteral">&quot;lng&quot;</span>);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                    LatLng location = <span class="keyword">new</span> LatLng(lat, lng);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                    <span class="comment">/* Add this location to our trip line */</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                    lineOpts.add(location);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                    <span class="comment">/*</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">                     * Check if distance between this point and</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">                     * last marker is greater than 5m otherwise don&#39;t add marker.</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">                     * Adding markers every 5 metres prevents the map being spammed with</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">                     * thousands of readings.</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">                     */</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                    <span class="keywordflow">if</span> ((lastMarker == null) || (calcDistance(location, lastMarker) &gt; 5))</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                    {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                        <span class="comment">/* Only add a marker if the gps data is valid */</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                        <span class="keywordflow">if</span> (gpsJSON.getBoolean(<span class="stringliteral">&quot;gps_valid&quot;</span>) == <span class="keyword">true</span>) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                            MarkerOptions markerOptions = <span class="keyword">new</span> MarkerOptions();</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                            markerOptions.position(location);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                            markerOptions.title(<span class="stringliteral">&quot;Reading: &quot;</span> + i);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                            mMap.addMarker(markerOptions);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                            lastMarker = location;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                            <span class="comment">/* Changes camera to point to newest marker */</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                            mMap.animateCamera(CameraUpdateFactory.newLatLngZoom(location, 12));</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                        }</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                    }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                }</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                mMap.addPolyline(lineOpts);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="keywordflow">catch</span> (JSONException e)</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                <span class="comment">/* Do nothing */</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            }</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    }</div><div class="ttc" id="logging-device_8ino_html_a548727e041a5cd3db91bdbd0ccd71e30"><div class="ttname"><a href="logging-device_8ino.html#a548727e041a5cd3db91bdbd0ccd71e30">gpsJSON</a></div><div class="ttdeci">JsonObject &amp; gpsJSON</div><div class="ttdoc">Holds all location related information. </div><div class="ttdef"><b>Definition:</b> logging-device.ino:84</div></div>
<div class="ttc" id="logging-device_8ino_html_ae8e95a76df2aaa373792e5b744a6bb73"><div class="ttname"><a href="logging-device_8ino.html#ae8e95a76df2aaa373792e5b744a6bb73">orientJSON</a></div><div class="ttdeci">JsonObject &amp; orientJSON</div><div class="ttdoc">Holds all orientation related information. </div><div class="ttdef"><b>Definition:</b> logging-device.ino:81</div></div>
<div class="ttc" id="logging-device_8ino_html_acc172a29cb5ff709b48b650d9fb6503c"><div class="ttname"><a href="logging-device_8ino.html#acc172a29cb5ff709b48b650d9fb6503c">timeJSON</a></div><div class="ttdeci">JsonObject &amp; timeJSON</div><div class="ttdoc">Holds all time related inforamtion. </div><div class="ttdef"><b>Definition:</b> logging-device.ino:87</div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>android-app/app/src/main/java/com/jack/motorbikestatistics/MapsActivity.java</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
