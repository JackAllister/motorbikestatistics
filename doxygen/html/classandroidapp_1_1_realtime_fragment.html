<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Motorbike Statistics: androidapp.RealtimeFragment Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Motorbike Statistics
   </div>
   <div id="projectbrief">A system for logging statistics of motorbikes</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>androidapp</b></li><li class="navelem"><a class="el" href="classandroidapp_1_1_realtime_fragment.html">RealtimeFragment</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classandroidapp_1_1_realtime_fragment-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">androidapp.RealtimeFragment Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>UI Class for viewing data sent from the logging device.  
 <a href="classandroidapp_1_1_realtime_fragment.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for androidapp.RealtimeFragment:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classandroidapp_1_1_realtime_fragment.png" usemap="#androidapp.RealtimeFragment_map" alt=""/>
  <map id="androidapp.RealtimeFragment_map" name="androidapp.RealtimeFragment_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroidapp_1_1_realtime_fragment_1_1_map_button_listener.html">MapButtonListener</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Listener for starting a map activity when button pressed.  <a href="classandroidapp_1_1_realtime_fragment_1_1_map_button_listener.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a41614c6fd2367b8142d9555b0a2f0305"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroidapp_1_1_realtime_fragment.html#a41614c6fd2367b8142d9555b0a2f0305">RealtimeFragment</a> ()</td></tr>
<tr class="memdesc:a41614c6fd2367b8142d9555b0a2f0305"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for UI fragment.  <a href="#a41614c6fd2367b8142d9555b0a2f0305">More...</a><br /></td></tr>
<tr class="separator:a41614c6fd2367b8142d9555b0a2f0305"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6ec065568ebc9fb26282a5b8bd47a3b"><td class="memItemLeft" align="right" valign="top">View&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroidapp_1_1_realtime_fragment.html#ae6ec065568ebc9fb26282a5b8bd47a3b">onCreateView</a> (LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)</td></tr>
<tr class="memdesc:ae6ec065568ebc9fb26282a5b8bd47a3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function called when fragment is shown on UI.  <a href="#ae6ec065568ebc9fb26282a5b8bd47a3b">More...</a><br /></td></tr>
<tr class="separator:ae6ec065568ebc9fb26282a5b8bd47a3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a1940264a9e70eba4d28a9033ad6025e9"><td class="memItemLeft" align="right" valign="top">final Handler&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroidapp_1_1_realtime_fragment.html#a1940264a9e70eba4d28a9033ad6025e9">RXHandler</a></td></tr>
<tr class="memdesc:a1940264a9e70eba4d28a9033ad6025e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler used for receiving statistics via bluetooth.  <a href="#a1940264a9e70eba4d28a9033ad6025e9">More...</a><br /></td></tr>
<tr class="separator:a1940264a9e70eba4d28a9033ad6025e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:af0af5169508df37c08c181b2acbb7f6b"><td class="memItemLeft" align="right" valign="top">final void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroidapp_1_1_realtime_fragment.html#af0af5169508df37c08c181b2acbb7f6b">newData</a> (JSONObject jsonData)</td></tr>
<tr class="memdesc:af0af5169508df37c08c181b2acbb7f6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for adding new statistics when received via bluetooth.  <a href="#af0af5169508df37c08c181b2acbb7f6b">More...</a><br /></td></tr>
<tr class="separator:af0af5169508df37c08c181b2acbb7f6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:af4ecae3268cb1d7d58af2159abea6781"><td class="memItemLeft" align="right" valign="top"><a id="af4ecae3268cb1d7d58af2159abea6781"></a>
TextView&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroidapp_1_1_realtime_fragment.html#af4ecae3268cb1d7d58af2159abea6781">textStatus</a></td></tr>
<tr class="memdesc:af4ecae3268cb1d7d58af2159abea6781"><td class="mdescLeft">&#160;</td><td class="mdescRight">TextView to show amount of logs received. <br /></td></tr>
<tr class="separator:af4ecae3268cb1d7d58af2159abea6781"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79a26a5afa1d6de41fdb4e0ba386edd1"><td class="memItemLeft" align="right" valign="top"><a id="a79a26a5afa1d6de41fdb4e0ba386edd1"></a>
ArrayList&lt; String &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroidapp_1_1_realtime_fragment.html#a79a26a5afa1d6de41fdb4e0ba386edd1">jsonList</a></td></tr>
<tr class="memdesc:a79a26a5afa1d6de41fdb4e0ba386edd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array that holds serialised trip data to pass to map. <br /></td></tr>
<tr class="separator:a79a26a5afa1d6de41fdb4e0ba386edd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e6233e1c91d844b978788237b6f70f2"><td class="memItemLeft" align="right" valign="top"><a id="a5e6233e1c91d844b978788237b6f70f2"></a>
<a class="el" href="classandroidapp_1_1_set_of_data_items.html">SetOfDataItems</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroidapp_1_1_realtime_fragment.html#a5e6233e1c91d844b978788237b6f70f2">dataList</a></td></tr>
<tr class="memdesc:a5e6233e1c91d844b978788237b6f70f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array holding each statistic that device is measuring. <br /></td></tr>
<tr class="separator:a5e6233e1c91d844b978788237b6f70f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af77aa8e00552ff07ab9295d418d867cf"><td class="memItemLeft" align="right" valign="top"><a id="af77aa8e00552ff07ab9295d418d867cf"></a>
ArrayAdapter&lt; <a class="el" href="classandroidapp_1_1_data_item.html">DataItem</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroidapp_1_1_realtime_fragment.html#af77aa8e00552ff07ab9295d418d867cf">lvAdapter</a></td></tr>
<tr class="memdesc:af77aa8e00552ff07ab9295d418d867cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adapter used for displaying statistics in the ListView. <br /></td></tr>
<tr class="separator:af77aa8e00552ff07ab9295d418d867cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a00195ddf73c21481afcb06b2bde9d2d1"><td class="memItemLeft" align="right" valign="top"><a id="a00195ddf73c21481afcb06b2bde9d2d1"></a>
static final String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroidapp_1_1_realtime_fragment.html#a00195ddf73c21481afcb06b2bde9d2d1">NEW_LINE</a> = &quot;\r\n&quot;</td></tr>
<tr class="memdesc:a00195ddf73c21481afcb06b2bde9d2d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">String for new line parsing. <br /></td></tr>
<tr class="separator:a00195ddf73c21481afcb06b2bde9d2d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>UI Class for viewing data sent from the logging device. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a41614c6fd2367b8142d9555b0a2f0305"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41614c6fd2367b8142d9555b0a2f0305">&#9670;&nbsp;</a></span>RealtimeFragment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">androidapp.RealtimeFragment.RealtimeFragment </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor for UI fragment. </p>
<p>Creates our initial data items that we are going to log. Setting whether extended functionality is needed for each data item. </p>
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                              {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <a class="code" href="classandroidapp_1_1_realtime_fragment.html#a79a26a5afa1d6de41fdb4e0ba386edd1">jsonList</a> = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <a class="code" href="classandroidapp_1_1_realtime_fragment.html#a5e6233e1c91d844b978788237b6f70f2">dataList</a> = <span class="keyword">new</span> SetOfDataItems();</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="comment">/* Set up our data items that we will want to log */</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        dataList.add(<span class="keyword">new</span> DataItem&lt;Double&gt;(<span class="stringliteral">&quot;Yaw&quot;</span>, <span class="keyword">true</span>));</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        dataList.add(<span class="keyword">new</span> DataItem&lt;Double&gt;(<span class="stringliteral">&quot;Pitch&quot;</span>, <span class="keyword">true</span>));</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        dataList.add(<span class="keyword">new</span> DataItem&lt;Double&gt;(<span class="stringliteral">&quot;Roll&quot;</span>, <span class="keyword">true</span>));</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        dataList.add(<span class="keyword">new</span> DataItem&lt;Boolean&gt;(<span class="stringliteral">&quot;GPS Valid&quot;</span>, <span class="keyword">false</span>));</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        dataList.add(<span class="keyword">new</span> DataItem&lt;Integer&gt;(<span class="stringliteral">&quot;Satellites&quot;</span>, <span class="keyword">false</span>));</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        dataList.add(<span class="keyword">new</span> DataItem&lt;Double&gt;(<span class="stringliteral">&quot;Latitude&quot;</span>, <span class="keyword">false</span>));</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        dataList.add(<span class="keyword">new</span> DataItem&lt;Double&gt;(<span class="stringliteral">&quot;Longitude&quot;</span>, <span class="keyword">false</span>));</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        dataList.add(<span class="keyword">new</span> DataItem&lt;Double&gt;(<span class="stringliteral">&quot;Velocity (MPH)&quot;</span>, <span class="keyword">true</span>));</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        dataList.add(<span class="keyword">new</span> DataItem&lt;Double&gt;(<span class="stringliteral">&quot;Altitude (FT)&quot;</span>, <span class="keyword">true</span>));</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        dataList.add(<span class="keyword">new</span> DataItem&lt;Boolean&gt;(<span class="stringliteral">&quot;Date Valid&quot;</span>, <span class="keyword">false</span>));</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        dataList.add(<span class="keyword">new</span> DataItem&lt;String&gt;(<span class="stringliteral">&quot;Date&quot;</span>, <span class="keyword">false</span>));</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        dataList.add(<span class="keyword">new</span> DataItem&lt;String&gt;(<span class="stringliteral">&quot;Time&quot;</span>, <span class="keyword">false</span>));</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    }</div><div class="ttc" id="classandroidapp_1_1_realtime_fragment_html_a79a26a5afa1d6de41fdb4e0ba386edd1"><div class="ttname"><a href="classandroidapp_1_1_realtime_fragment.html#a79a26a5afa1d6de41fdb4e0ba386edd1">androidapp.RealtimeFragment.jsonList</a></div><div class="ttdeci">ArrayList&lt; String &gt; jsonList</div><div class="ttdoc">Array that holds serialised trip data to pass to map. </div><div class="ttdef"><b>Definition:</b> RealtimeFragment.java:45</div></div>
<div class="ttc" id="classandroidapp_1_1_realtime_fragment_html_a5e6233e1c91d844b978788237b6f70f2"><div class="ttname"><a href="classandroidapp_1_1_realtime_fragment.html#a5e6233e1c91d844b978788237b6f70f2">androidapp.RealtimeFragment.dataList</a></div><div class="ttdeci">SetOfDataItems dataList</div><div class="ttdoc">Array holding each statistic that device is measuring. </div><div class="ttdef"><b>Definition:</b> RealtimeFragment.java:48</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae6ec065568ebc9fb26282a5b8bd47a3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6ec065568ebc9fb26282a5b8bd47a3b">&#9670;&nbsp;</a></span>onCreateView()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">View androidapp.RealtimeFragment.onCreateView </td>
          <td>(</td>
          <td class="paramtype">LayoutInflater&#160;</td>
          <td class="paramname"><em>inflater</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ViewGroup&#160;</td>
          <td class="paramname"><em>container</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Bundle&#160;</td>
          <td class="paramname"><em>savedInstanceState</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function called when fragment is shown on UI. </p>
<p>Sets up the UI ListView and Buttons.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inflater</td><td>- Inflater used for displaying view. </td></tr>
    <tr><td class="paramname">container</td><td>- Container that the view will be displayed on. </td></tr>
    <tr><td class="paramname">savedInstanceState</td><td>- Last known state of this fragment. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>View - The UI view of this fragment. </dd></dl>
<div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                                                                                                      {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        View myView = inflater.inflate(R.layout.realtime_layout, container, <span class="keyword">false</span>);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <a class="code" href="classandroidapp_1_1_realtime_fragment.html#af4ecae3268cb1d7d58af2159abea6781">textStatus</a> = (TextView)myView.findViewById(R.id.realtime_status);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="comment">/* Get the ListView via ID */</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        ListView lvDataItems = (ListView) myView.findViewById(R.id.realtime_data_list);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="comment">/* Inflate the header view for ListView */</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        ViewGroup headerView = (ViewGroup) inflater.inflate(R.layout.data_list_header, lvDataItems, <span class="keyword">false</span>);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        lvDataItems.addHeaderView(headerView);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="comment">/* Create our new list adapter for our data list view */</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <a class="code" href="classandroidapp_1_1_realtime_fragment.html#af77aa8e00552ff07ab9295d418d867cf">lvAdapter</a> = <span class="keyword">new</span> DataListAdapter(getActivity(), R.layout.data_list_item, <a class="code" href="classandroidapp_1_1_realtime_fragment.html#a5e6233e1c91d844b978788237b6f70f2">dataList</a>);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        lvDataItems.setAdapter(<a class="code" href="classandroidapp_1_1_realtime_fragment.html#af77aa8e00552ff07ab9295d418d867cf">lvAdapter</a>);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="comment">/* Set our listeners for buttons */</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        FloatingActionButton mapButton = (FloatingActionButton) myView.findViewById(R.id.realtime_show_map);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        mapButton.setOnClickListener(<span class="keyword">new</span> MapButtonListener());</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordflow">return</span> myView;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    }</div><div class="ttc" id="classandroidapp_1_1_realtime_fragment_html_af77aa8e00552ff07ab9295d418d867cf"><div class="ttname"><a href="classandroidapp_1_1_realtime_fragment.html#af77aa8e00552ff07ab9295d418d867cf">androidapp.RealtimeFragment.lvAdapter</a></div><div class="ttdeci">ArrayAdapter&lt; DataItem &gt; lvAdapter</div><div class="ttdoc">Adapter used for displaying statistics in the ListView. </div><div class="ttdef"><b>Definition:</b> RealtimeFragment.java:50</div></div>
<div class="ttc" id="classandroidapp_1_1_realtime_fragment_html_af4ecae3268cb1d7d58af2159abea6781"><div class="ttname"><a href="classandroidapp_1_1_realtime_fragment.html#af4ecae3268cb1d7d58af2159abea6781">androidapp.RealtimeFragment.textStatus</a></div><div class="ttdeci">TextView textStatus</div><div class="ttdoc">TextView to show amount of logs received. </div><div class="ttdef"><b>Definition:</b> RealtimeFragment.java:43</div></div>
<div class="ttc" id="classandroidapp_1_1_realtime_fragment_html_a5e6233e1c91d844b978788237b6f70f2"><div class="ttname"><a href="classandroidapp_1_1_realtime_fragment.html#a5e6233e1c91d844b978788237b6f70f2">androidapp.RealtimeFragment.dataList</a></div><div class="ttdeci">SetOfDataItems dataList</div><div class="ttdoc">Array holding each statistic that device is measuring. </div><div class="ttdef"><b>Definition:</b> RealtimeFragment.java:48</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af0af5169508df37c08c181b2acbb7f6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0af5169508df37c08c181b2acbb7f6b">&#9670;&nbsp;</a></span>newData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final void androidapp.RealtimeFragment.newData </td>
          <td>(</td>
          <td class="paramtype">JSONObject&#160;</td>
          <td class="paramname"><em>jsonData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for adding new statistics when received via bluetooth. </p>
<p>Attempts to break the initial JSON object into it's child objects and then retreive the data from these child nodes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">jsonData</td><td>- Received JSONObject from receive handler. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="classandroidapp_1_1_set_of_data_items.html#a4e3c7418f3efe76656e47780bdd7d027">androidapp.SetOfDataItems.getItemByName()</a>, and <a class="el" href="classandroidapp_1_1_data_item.html#a8b0b5dccaaf42c651896aeb70d3200f0">androidapp.DataItem&lt; T &gt;.setCurrent()</a>.</p>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                                                    {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordflow">try</span> {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            JSONObject orientObject = jsonData.getJSONObject(<span class="stringliteral">&quot;orientation&quot;</span>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            JSONObject gpsObject = jsonData.getJSONObject(<span class="stringliteral">&quot;gps&quot;</span>);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            JSONObject timeObject = jsonData.getJSONObject(<span class="stringliteral">&quot;time&quot;</span>);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="comment">/* Update our data items */</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <a class="code" href="classandroidapp_1_1_realtime_fragment.html#a5e6233e1c91d844b978788237b6f70f2">dataList</a>.<a class="code" href="classandroidapp_1_1_set_of_data_items.html#a4e3c7418f3efe76656e47780bdd7d027">getItemByName</a>(<span class="stringliteral">&quot;Yaw&quot;</span>).<a class="code" href="classandroidapp_1_1_data_item.html#a8b0b5dccaaf42c651896aeb70d3200f0">setCurrent</a>(orientObject.getDouble(<span class="stringliteral">&quot;yaw&quot;</span>));</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <a class="code" href="classandroidapp_1_1_realtime_fragment.html#a5e6233e1c91d844b978788237b6f70f2">dataList</a>.<a class="code" href="classandroidapp_1_1_set_of_data_items.html#a4e3c7418f3efe76656e47780bdd7d027">getItemByName</a>(<span class="stringliteral">&quot;Pitch&quot;</span>).<a class="code" href="classandroidapp_1_1_data_item.html#a8b0b5dccaaf42c651896aeb70d3200f0">setCurrent</a>(orientObject.getDouble(<span class="stringliteral">&quot;pitch&quot;</span>));</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <a class="code" href="classandroidapp_1_1_realtime_fragment.html#a5e6233e1c91d844b978788237b6f70f2">dataList</a>.<a class="code" href="classandroidapp_1_1_set_of_data_items.html#a4e3c7418f3efe76656e47780bdd7d027">getItemByName</a>(<span class="stringliteral">&quot;Roll&quot;</span>).<a class="code" href="classandroidapp_1_1_data_item.html#a8b0b5dccaaf42c651896aeb70d3200f0">setCurrent</a>(orientObject.getDouble(<span class="stringliteral">&quot;roll&quot;</span>));</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            <span class="comment">/* Add GPS based data to */</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <a class="code" href="classandroidapp_1_1_realtime_fragment.html#a5e6233e1c91d844b978788237b6f70f2">dataList</a>.<a class="code" href="classandroidapp_1_1_set_of_data_items.html#a4e3c7418f3efe76656e47780bdd7d027">getItemByName</a>(<span class="stringliteral">&quot;GPS Valid&quot;</span>).<a class="code" href="classandroidapp_1_1_data_item.html#a8b0b5dccaaf42c651896aeb70d3200f0">setCurrent</a>(gpsObject.getBoolean(<span class="stringliteral">&quot;gps_valid&quot;</span>));</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <a class="code" href="classandroidapp_1_1_realtime_fragment.html#a5e6233e1c91d844b978788237b6f70f2">dataList</a>.<a class="code" href="classandroidapp_1_1_set_of_data_items.html#a4e3c7418f3efe76656e47780bdd7d027">getItemByName</a>(<span class="stringliteral">&quot;Satellites&quot;</span>).<a class="code" href="classandroidapp_1_1_data_item.html#a8b0b5dccaaf42c651896aeb70d3200f0">setCurrent</a>(gpsObject.getInt(<span class="stringliteral">&quot;available&quot;</span>));</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <a class="code" href="classandroidapp_1_1_realtime_fragment.html#a5e6233e1c91d844b978788237b6f70f2">dataList</a>.<a class="code" href="classandroidapp_1_1_set_of_data_items.html#a4e3c7418f3efe76656e47780bdd7d027">getItemByName</a>(<span class="stringliteral">&quot;Latitude&quot;</span>).<a class="code" href="classandroidapp_1_1_data_item.html#a8b0b5dccaaf42c651896aeb70d3200f0">setCurrent</a>(gpsObject.getDouble(<span class="stringliteral">&quot;lat&quot;</span>));</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <a class="code" href="classandroidapp_1_1_realtime_fragment.html#a5e6233e1c91d844b978788237b6f70f2">dataList</a>.<a class="code" href="classandroidapp_1_1_set_of_data_items.html#a4e3c7418f3efe76656e47780bdd7d027">getItemByName</a>(<span class="stringliteral">&quot;Longitude&quot;</span>).<a class="code" href="classandroidapp_1_1_data_item.html#a8b0b5dccaaf42c651896aeb70d3200f0">setCurrent</a>(gpsObject.getDouble(<span class="stringliteral">&quot;lng&quot;</span>));</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <a class="code" href="classandroidapp_1_1_realtime_fragment.html#a5e6233e1c91d844b978788237b6f70f2">dataList</a>.<a class="code" href="classandroidapp_1_1_set_of_data_items.html#a4e3c7418f3efe76656e47780bdd7d027">getItemByName</a>(<span class="stringliteral">&quot;Velocity (MPH)&quot;</span>).<a class="code" href="classandroidapp_1_1_data_item.html#a8b0b5dccaaf42c651896aeb70d3200f0">setCurrent</a>(gpsObject.getDouble(<span class="stringliteral">&quot;vel_mph&quot;</span>));</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <a class="code" href="classandroidapp_1_1_realtime_fragment.html#a5e6233e1c91d844b978788237b6f70f2">dataList</a>.<a class="code" href="classandroidapp_1_1_set_of_data_items.html#a4e3c7418f3efe76656e47780bdd7d027">getItemByName</a>(<span class="stringliteral">&quot;Altitude (FT)&quot;</span>).<a class="code" href="classandroidapp_1_1_data_item.html#a8b0b5dccaaf42c651896aeb70d3200f0">setCurrent</a>(gpsObject.getDouble(<span class="stringliteral">&quot;alt_ft&quot;</span>));</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="comment">/* DateTime based data */</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <a class="code" href="classandroidapp_1_1_realtime_fragment.html#a5e6233e1c91d844b978788237b6f70f2">dataList</a>.<a class="code" href="classandroidapp_1_1_set_of_data_items.html#a4e3c7418f3efe76656e47780bdd7d027">getItemByName</a>(<span class="stringliteral">&quot;Date Valid&quot;</span>).<a class="code" href="classandroidapp_1_1_data_item.html#a8b0b5dccaaf42c651896aeb70d3200f0">setCurrent</a>(timeObject.getBoolean(<span class="stringliteral">&quot;time_valid&quot;</span>));</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            Calendar cal = Calendar.getInstance();</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            cal.clear();</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            cal.set(Calendar.YEAR, timeObject.getInt(<span class="stringliteral">&quot;year&quot;</span>));</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            cal.set(Calendar.MONTH, timeObject.getInt(<span class="stringliteral">&quot;month&quot;</span>));</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            cal.set(Calendar.DATE, timeObject.getInt(<span class="stringliteral">&quot;day&quot;</span>));</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            cal.set(Calendar.HOUR, timeObject.getInt(<span class="stringliteral">&quot;hour&quot;</span>));</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            cal.set(Calendar.MINUTE, timeObject.getInt(<span class="stringliteral">&quot;minute&quot;</span>));</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            cal.set(Calendar.SECOND, timeObject.getInt(<span class="stringliteral">&quot;second&quot;</span>));</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            cal.set(Calendar.MILLISECOND, timeObject.getInt(<span class="stringliteral">&quot;centiseconds&quot;</span>) * 10);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="comment">/* Create format for date and times then add to list */</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            DateFormat dateFormat = <span class="keyword">new</span> SimpleDateFormat(<span class="stringliteral">&quot;dd/MM/yy&quot;</span>);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <a class="code" href="classandroidapp_1_1_realtime_fragment.html#a5e6233e1c91d844b978788237b6f70f2">dataList</a>.<a class="code" href="classandroidapp_1_1_set_of_data_items.html#a4e3c7418f3efe76656e47780bdd7d027">getItemByName</a>(<span class="stringliteral">&quot;Date&quot;</span>).<a class="code" href="classandroidapp_1_1_data_item.html#a8b0b5dccaaf42c651896aeb70d3200f0">setCurrent</a>(dateFormat.format(cal.getTime()));</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            DateFormat timeFormat = <span class="keyword">new</span> SimpleDateFormat(<span class="stringliteral">&quot;HH:mm:ss.SS&quot;</span>);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <a class="code" href="classandroidapp_1_1_realtime_fragment.html#a5e6233e1c91d844b978788237b6f70f2">dataList</a>.<a class="code" href="classandroidapp_1_1_set_of_data_items.html#a4e3c7418f3efe76656e47780bdd7d027">getItemByName</a>(<span class="stringliteral">&quot;Time&quot;</span>).<a class="code" href="classandroidapp_1_1_data_item.html#a8b0b5dccaaf42c651896aeb70d3200f0">setCurrent</a>(timeFormat.format(cal.getTime()));</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <a class="code" href="classandroidapp_1_1_realtime_fragment.html#af77aa8e00552ff07ab9295d418d867cf">lvAdapter</a>.notifyDataSetChanged();</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <span class="comment">/*</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">             * Add json object to our list</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">             * so we can send it to other activities/fragments later</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <a class="code" href="classandroidapp_1_1_realtime_fragment.html#a79a26a5afa1d6de41fdb4e0ba386edd1">jsonList</a>.add(jsonData.toString());</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <a class="code" href="classandroidapp_1_1_realtime_fragment.html#af4ecae3268cb1d7d58af2159abea6781">textStatus</a>.setText(<span class="stringliteral">&quot;Reading count: &quot;</span> + Integer.toString(<a class="code" href="classandroidapp_1_1_realtime_fragment.html#a79a26a5afa1d6de41fdb4e0ba386edd1">jsonList</a>.size()));</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        } <span class="keywordflow">catch</span> (JSONException e) {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <span class="comment">/* Do nothing */</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    }</div><div class="ttc" id="classandroidapp_1_1_realtime_fragment_html_af77aa8e00552ff07ab9295d418d867cf"><div class="ttname"><a href="classandroidapp_1_1_realtime_fragment.html#af77aa8e00552ff07ab9295d418d867cf">androidapp.RealtimeFragment.lvAdapter</a></div><div class="ttdeci">ArrayAdapter&lt; DataItem &gt; lvAdapter</div><div class="ttdoc">Adapter used for displaying statistics in the ListView. </div><div class="ttdef"><b>Definition:</b> RealtimeFragment.java:50</div></div>
<div class="ttc" id="classandroidapp_1_1_set_of_data_items_html_a4e3c7418f3efe76656e47780bdd7d027"><div class="ttname"><a href="classandroidapp_1_1_set_of_data_items.html#a4e3c7418f3efe76656e47780bdd7d027">androidapp.SetOfDataItems.getItemByName</a></div><div class="ttdeci">DataItem getItemByName(String name)</div><div class="ttdoc">Function to allow searching of ArrayList&lt;DataItem&gt; via name. </div><div class="ttdef"><b>Definition:</b> SetOfDataItems.java:36</div></div>
<div class="ttc" id="classandroidapp_1_1_realtime_fragment_html_a79a26a5afa1d6de41fdb4e0ba386edd1"><div class="ttname"><a href="classandroidapp_1_1_realtime_fragment.html#a79a26a5afa1d6de41fdb4e0ba386edd1">androidapp.RealtimeFragment.jsonList</a></div><div class="ttdeci">ArrayList&lt; String &gt; jsonList</div><div class="ttdoc">Array that holds serialised trip data to pass to map. </div><div class="ttdef"><b>Definition:</b> RealtimeFragment.java:45</div></div>
<div class="ttc" id="classandroidapp_1_1_realtime_fragment_html_af4ecae3268cb1d7d58af2159abea6781"><div class="ttname"><a href="classandroidapp_1_1_realtime_fragment.html#af4ecae3268cb1d7d58af2159abea6781">androidapp.RealtimeFragment.textStatus</a></div><div class="ttdeci">TextView textStatus</div><div class="ttdoc">TextView to show amount of logs received. </div><div class="ttdef"><b>Definition:</b> RealtimeFragment.java:43</div></div>
<div class="ttc" id="classandroidapp_1_1_realtime_fragment_html_a5e6233e1c91d844b978788237b6f70f2"><div class="ttname"><a href="classandroidapp_1_1_realtime_fragment.html#a5e6233e1c91d844b978788237b6f70f2">androidapp.RealtimeFragment.dataList</a></div><div class="ttdeci">SetOfDataItems dataList</div><div class="ttdoc">Array holding each statistic that device is measuring. </div><div class="ttdef"><b>Definition:</b> RealtimeFragment.java:48</div></div>
<div class="ttc" id="classandroidapp_1_1_data_item_html_a8b0b5dccaaf42c651896aeb70d3200f0"><div class="ttname"><a href="classandroidapp_1_1_data_item.html#a8b0b5dccaaf42c651896aeb70d3200f0">androidapp.DataItem.setCurrent</a></div><div class="ttdeci">void setCurrent(T value)</div><div class="ttdoc">Setter for current reading value. </div><div class="ttdef"><b>Definition:</b> DataItem.java:135</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1940264a9e70eba4d28a9033ad6025e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1940264a9e70eba4d28a9033ad6025e9">&#9670;&nbsp;</a></span>RXHandler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final Handler androidapp.RealtimeFragment.RXHandler</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">new</span> Handler(Looper.getMainLooper()) {</div><div class="line"></div><div class="line">        </div><div class="line">        @Override</div><div class="line">        <span class="keyword">public</span> <span class="keywordtype">void</span> handleMessage(Message msg) {</div><div class="line"></div><div class="line">            Bundle msgData = msg.getData();</div><div class="line">            String jsonString = msgData.getString(<span class="stringliteral">&quot;JSON&quot;</span>);</div><div class="line"></div><div class="line">            <span class="keywordflow">if</span> (jsonString != null) {</div><div class="line"></div><div class="line">                </div><div class="line">                <span class="keywordflow">try</span> {</div><div class="line">                    JSONObject tmpJSON = <span class="keyword">new</span> JSONObject(jsonString);</div><div class="line">                    <a class="code" href="classandroidapp_1_1_realtime_fragment.html#af0af5169508df37c08c181b2acbb7f6b">newData</a>(tmpJSON);</div><div class="line"></div><div class="line">                } <span class="keywordflow">catch</span> (JSONException e) {</div><div class="line">                    </div><div class="line">                }</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div></div><!-- fragment -->
<p>Handler used for receiving statistics via bluetooth. </p>
<p>Receives data in a bundle passed from the bluetooth connection thread. This is due to multithreading as safe data exchange between threads has to be done via messages. Attempts to parse the data into a JSON object, if successful this data is then passed to our JSON adding procedure. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>android-app/app/src/main/java/com/jack/motorbikestatistics/<a class="el" href="_realtime_fragment_8java.html">RealtimeFragment.java</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
