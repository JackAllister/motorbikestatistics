<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Motorbike Statistics: AndroidApp.MapsActivity Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Motorbike Statistics
   </div>
   <div id="projectbrief">A system for logging statistics of motorbikes</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>AndroidApp</b></li><li class="navelem"><a class="el" href="class_android_app_1_1_maps_activity.html">MapsActivity</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_android_app_1_1_maps_activity-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AndroidApp.MapsActivity Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Maps activity class for displaying map data.  
 <a href="class_android_app_1_1_maps_activity.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for AndroidApp.MapsActivity:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_android_app_1_1_maps_activity.png" usemap="#AndroidApp.MapsActivity_map" alt=""/>
  <map id="AndroidApp.MapsActivity_map" name="AndroidApp.MapsActivity_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_android_app_1_1_maps_activity_1_1_statistic_window_adapter.html">StatisticWindowAdapter</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adapter used for displaying statistics at a certain marker that user has clicked on.  <a href="class_android_app_1_1_maps_activity_1_1_statistic_window_adapter.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_android_app_1_1_maps_activity_1_1_zoom_toogle_listener.html">ZoomToogleListener</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Listener class for making markers invisible when zoomed out.  <a href="class_android_app_1_1_maps_activity_1_1_zoom_toogle_listener.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abee115dd67628da8e1140430428ce112"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_android_app_1_1_maps_activity.html#abee115dd67628da8e1140430428ce112">onMapReady</a> (GoogleMap googleMap)</td></tr>
<tr class="memdesc:abee115dd67628da8e1140430428ce112"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manipulates the map once available.  <a href="#abee115dd67628da8e1140430428ce112">More...</a><br /></td></tr>
<tr class="separator:abee115dd67628da8e1140430428ce112"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a179ec8e25e279c4fa33aa74a90019489"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_android_app_1_1_maps_activity.html#a179ec8e25e279c4fa33aa74a90019489">onCreate</a> (Bundle savedInstanceState)</td></tr>
<tr class="memdesc:a179ec8e25e279c4fa33aa74a90019489"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills our maps array with points to plot on the map.  <a href="#a179ec8e25e279c4fa33aa74a90019489">More...</a><br /></td></tr>
<tr class="separator:a179ec8e25e279c4fa33aa74a90019489"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a18364d9334710362b1e6c39502353927"><td class="memItemLeft" align="right" valign="top">JSONObject&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_android_app_1_1_maps_activity.html#a18364d9334710362b1e6c39502353927">findJSONByLatLng</a> (LatLng position)</td></tr>
<tr class="memdesc:a18364d9334710362b1e6c39502353927"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds JSONObject from ArrayList via LAT/LNG coordinates.  <a href="#a18364d9334710362b1e6c39502353927">More...</a><br /></td></tr>
<tr class="separator:a18364d9334710362b1e6c39502353927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea9b9fe75f1d70e3c902c8348823efd0"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_android_app_1_1_maps_activity.html#aea9b9fe75f1d70e3c902c8348823efd0">calcDistance</a> (LatLng start, LatLng end)</td></tr>
<tr class="memdesc:aea9b9fe75f1d70e3c902c8348823efd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the absolute distance between two points.  <a href="#aea9b9fe75f1d70e3c902c8348823efd0">More...</a><br /></td></tr>
<tr class="separator:aea9b9fe75f1d70e3c902c8348823efd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f93b1f03094b96020cee7e06ce5fc85"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_android_app_1_1_maps_activity.html#a2f93b1f03094b96020cee7e06ce5fc85">convertDpToPixel</a> (float dp, Context context)</td></tr>
<tr class="memdesc:a2f93b1f03094b96020cee7e06ce5fc85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for converting raw DP value to pixels.  <a href="#a2f93b1f03094b96020cee7e06ce5fc85">More...</a><br /></td></tr>
<tr class="separator:a2f93b1f03094b96020cee7e06ce5fc85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77f66c756f18d56bd41f0ee1c889fb62"><td class="memItemLeft" align="right" valign="top">BitmapDescriptor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_android_app_1_1_maps_activity.html#a77f66c756f18d56bd41f0ee1c889fb62">getBitmapDescriptor</a> (int id)</td></tr>
<tr class="memdesc:a77f66c756f18d56bd41f0ee1c889fb62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Created a valid bitmap descriptor from a drawable resource ID.  <a href="#a77f66c756f18d56bd41f0ee1c889fb62">More...</a><br /></td></tr>
<tr class="separator:a77f66c756f18d56bd41f0ee1c889fb62"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a373d4c770d2ab34538f9288d7c0e83ea"><td class="memItemLeft" align="right" valign="top"><a id="a373d4c770d2ab34538f9288d7c0e83ea"></a>
GoogleMap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_android_app_1_1_maps_activity.html#a373d4c770d2ab34538f9288d7c0e83ea">mMap</a></td></tr>
<tr class="memdesc:a373d4c770d2ab34538f9288d7c0e83ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Google maps object for plotting. <br /></td></tr>
<tr class="separator:a373d4c770d2ab34538f9288d7c0e83ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2fa23bd9f7f5a501e91329413608528"><td class="memItemLeft" align="right" valign="top"><a id="ad2fa23bd9f7f5a501e91329413608528"></a>
ArrayList&lt; JSONObject &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_android_app_1_1_maps_activity.html#ad2fa23bd9f7f5a501e91329413608528">tripData</a></td></tr>
<tr class="memdesc:ad2fa23bd9f7f5a501e91329413608528"><td class="mdescLeft">&#160;</td><td class="mdescRight">ArrayList holding all trip data. <br /></td></tr>
<tr class="separator:ad2fa23bd9f7f5a501e91329413608528"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85c831a59d0468fc03e695aa9beab77e"><td class="memItemLeft" align="right" valign="top"><a id="a85c831a59d0468fc03e695aa9beab77e"></a>
ArrayList&lt; Marker &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>markerList</b></td></tr>
<tr class="separator:a85c831a59d0468fc03e695aa9beab77e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Maps activity class for displaying map data. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a179ec8e25e279c4fa33aa74a90019489"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a179ec8e25e279c4fa33aa74a90019489">&#9670;&nbsp;</a></span>onCreate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AndroidApp.MapsActivity.onCreate </td>
          <td>(</td>
          <td class="paramtype">Bundle&#160;</td>
          <td class="paramname"><em>savedInstanceState</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fills our maps array with points to plot on the map. </p>
<p>Called when maps activity is first started. Responsible for making sure we have points to plot.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">savedInstanceState</td><td>- Information holding last previous state. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="class_android_app_1_1_j_s_o_n_handler_singleton.html#a6b33b2582b9625f9ab0718013daa1aeb">AndroidApp.JSONHandlerSingleton.getInstance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                                                       {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        super.onCreate(savedInstanceState);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        setContentView(R.layout.activity_maps);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="comment">// Obtain the SupportMapFragment and get notified when the map is ready to be used.</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                .findFragmentById(R.id.map);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="comment">/* Clear our marker list for new instances. */</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        markerList = <span class="keyword">new</span> ArrayList&lt;Marker&gt;();</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="comment">/* Get the tripData from our JSON handler singleton. */</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <a class="code" href="class_android_app_1_1_maps_activity.html#ad2fa23bd9f7f5a501e91329413608528">tripData</a> = JSONHandlerSingleton.getInstance().tripData;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        mapFragment.getMapAsync(<span class="keyword">this</span>);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    }</div><div class="ttc" id="class_android_app_1_1_maps_activity_html_ad2fa23bd9f7f5a501e91329413608528"><div class="ttname"><a href="class_android_app_1_1_maps_activity.html#ad2fa23bd9f7f5a501e91329413608528">AndroidApp.MapsActivity.tripData</a></div><div class="ttdeci">ArrayList&lt; JSONObject &gt; tripData</div><div class="ttdoc">ArrayList holding all trip data. </div><div class="ttdef"><b>Definition:</b> MapsActivity.java:55</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a18364d9334710362b1e6c39502353927"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18364d9334710362b1e6c39502353927">&#9670;&nbsp;</a></span>findJSONByLatLng()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">JSONObject AndroidApp.MapsActivity.findJSONByLatLng </td>
          <td>(</td>
          <td class="paramtype">LatLng&#160;</td>
          <td class="paramname"><em>position</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finds JSONObject from ArrayList via LAT/LNG coordinates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">position</td><td>- Latitude and Longitude position. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>JSONObject - The found JSON object. </dd></dl>

<p class="reference">References <a class="el" href="logging-device_8ino.html#a548727e041a5cd3db91bdbd0ccd71e30">gpsJSON</a>.</p>
<div class="fragment"><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                                                         {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        JSONObject result = null;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_android_app_1_1_maps_activity.html#ad2fa23bd9f7f5a501e91329413608528">tripData</a>.size(); i++) {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            JSONObject tmpJSON = <a class="code" href="class_android_app_1_1_maps_activity.html#ad2fa23bd9f7f5a501e91329413608528">tripData</a>.get(i);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                JSONObject <a class="code" href="logging-device_8ino.html#a548727e041a5cd3db91bdbd0ccd71e30">gpsJSON</a> = tmpJSON.getJSONObject(<span class="stringliteral">&quot;gps&quot;</span>);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                Double latitude = gpsJSON.getDouble(<span class="stringliteral">&quot;lat&quot;</span>);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                Double longitude = gpsJSON.getDouble(<span class="stringliteral">&quot;lng&quot;</span>);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                <span class="comment">/* Check to see if latitude and logitudes match */</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                <span class="keywordflow">if</span> ((latitude == position.latitude) &amp;&amp; (longitude == position.longitude)) {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                    result = tmpJSON;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            } <span class="keywordflow">catch</span> (JSONException e) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                <span class="comment">/* Do nothing */</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            }</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div><div class="ttc" id="logging-device_8ino_html_a548727e041a5cd3db91bdbd0ccd71e30"><div class="ttname"><a href="logging-device_8ino.html#a548727e041a5cd3db91bdbd0ccd71e30">gpsJSON</a></div><div class="ttdeci">JsonObject &amp; gpsJSON</div><div class="ttdoc">Holds all location related information. </div><div class="ttdef"><b>Definition:</b> logging-device.ino:86</div></div>
<div class="ttc" id="class_android_app_1_1_maps_activity_html_ad2fa23bd9f7f5a501e91329413608528"><div class="ttname"><a href="class_android_app_1_1_maps_activity.html#ad2fa23bd9f7f5a501e91329413608528">AndroidApp.MapsActivity.tripData</a></div><div class="ttdeci">ArrayList&lt; JSONObject &gt; tripData</div><div class="ttdoc">ArrayList holding all trip data. </div><div class="ttdef"><b>Definition:</b> MapsActivity.java:55</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aea9b9fe75f1d70e3c902c8348823efd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea9b9fe75f1d70e3c902c8348823efd0">&#9670;&nbsp;</a></span>calcDistance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float AndroidApp.MapsActivity.calcDistance </td>
          <td>(</td>
          <td class="paramtype">LatLng&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LatLng&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculates the absolute distance between two points. </p>
<p>Distance is as the crow flys and not via streets etc. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">start</td><td>- Start position. </td></tr>
    <tr><td class="paramname">end</td><td>- End position. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>flaot - Distance between points in metres. </dd></dl>
<div class="fragment"><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordtype">float</span>[] results = <span class="keyword">new</span> <span class="keywordtype">float</span>[1];</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        Location.distanceBetween(start.latitude, start.longitude, end.latitude, end.longitude, results);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">return</span> results[0];</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="abee115dd67628da8e1140430428ce112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abee115dd67628da8e1140430428ce112">&#9670;&nbsp;</a></span>onMapReady()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AndroidApp.MapsActivity.onMapReady </td>
          <td>(</td>
          <td class="paramtype">GoogleMap&#160;</td>
          <td class="paramname"><em>googleMap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Manipulates the map once available. </p>
<p>This callback is triggered when the map is ready to be used. This is where we can add markers or lines.</p>
<p>If Google Play services is not installed on the device, the user will be prompted to install it inside the SupportMapFragment. This method will only be triggered once the user has installed Google Play services and returned to the app.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">googleMap</td><td>- Our map object ready to manipulate. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="logging-device_8ino.html#a548727e041a5cd3db91bdbd0ccd71e30">gpsJSON</a>.</p>
<div class="fragment"><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                                                {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <a class="code" href="class_android_app_1_1_maps_activity.html#a373d4c770d2ab34538f9288d7c0e83ea">mMap</a> = googleMap;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <a class="code" href="class_android_app_1_1_maps_activity.html#a373d4c770d2ab34538f9288d7c0e83ea">mMap</a>.setMapType(GoogleMap.MAP_TYPE_HYBRID);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="comment">/* Set our info window adapter class that is shown when marker clicked */</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <a class="code" href="class_android_app_1_1_maps_activity.html#a373d4c770d2ab34538f9288d7c0e83ea">mMap</a>.setInfoWindowAdapter(<span class="keyword">new</span> StatisticWindowAdapter());</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="comment">/* Set our listener class for adjusting visibility when zoomed. */</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <a class="code" href="class_android_app_1_1_maps_activity.html#a373d4c770d2ab34538f9288d7c0e83ea">mMap</a>.setOnCameraMoveListener(<span class="keyword">new</span> ZoomToogleListener());</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="comment">/* If we have no data don&#39;t bother plotting points */</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_android_app_1_1_maps_activity.html#ad2fa23bd9f7f5a501e91329413608528">tripData</a>.size() != 0)</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        {</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="comment">/* lineOpts will store our route */</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            PolylineOptions lineOpts = <span class="keyword">new</span> PolylineOptions();</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            lineOpts.color(Color.parseColor( <span class="stringliteral">&quot;#CCF44242&quot;</span>));</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            lineOpts.width(18);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            lineOpts.visible(<span class="keyword">true</span>);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                LatLng lastMarker = null;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                <span class="comment">/* Plot every point in the our JSONObject array */</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_android_app_1_1_maps_activity.html#ad2fa23bd9f7f5a501e91329413608528">tripData</a>.size(); i++)</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                    JSONObject rootJSON = <a class="code" href="class_android_app_1_1_maps_activity.html#ad2fa23bd9f7f5a501e91329413608528">tripData</a>.get(i);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                    JSONObject <a class="code" href="logging-device_8ino.html#a548727e041a5cd3db91bdbd0ccd71e30">gpsJSON</a> = rootJSON.getJSONObject(<span class="stringliteral">&quot;gps&quot;</span>);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    Double lat = gpsJSON.getDouble(<span class="stringliteral">&quot;lat&quot;</span>);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                    Double lng = gpsJSON.getDouble(<span class="stringliteral">&quot;lng&quot;</span>);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                    LatLng location = <span class="keyword">new</span> LatLng(lat, lng);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    <span class="comment">/* Don&#39;t add location with invalid lat &amp; lng. */</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                    <span class="keywordflow">if</span> (location.latitude != 0.00 &amp;&amp; location.longitude != 0.00) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                        <span class="comment">/* Add this location to our trip line */</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                        lineOpts.add(location);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                        <span class="comment">/*</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">                         * Check if distance between this point and</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">                         * last marker is greater than 5m otherwise don&#39;t add marker.</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">                         * Adding markers every 5 metres prevents the map being spammed with</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">                         * thousands of readings.</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">                         */</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                        <span class="keywordflow">if</span> ((lastMarker == null) || (<a class="code" href="class_android_app_1_1_maps_activity.html#aea9b9fe75f1d70e3c902c8348823efd0">calcDistance</a>(location, lastMarker) &gt; 5)) {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                            <span class="comment">/* Only add a marker if the gps data is valid */</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                            <span class="keywordflow">if</span> (gpsJSON.getBoolean(<span class="stringliteral">&quot;gps_valid&quot;</span>) == <span class="keyword">true</span>) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                                MarkerOptions markerOptions = <span class="keyword">new</span> MarkerOptions();</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                                markerOptions.position(location);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                                markerOptions.title(<span class="stringliteral">&quot;Reading: &quot;</span> + i);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                                markerOptions.icon(<a class="code" href="class_android_app_1_1_maps_activity.html#a77f66c756f18d56bd41f0ee1c889fb62">getBitmapDescriptor</a>(R.drawable.ic_expand_more_white_24px));</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                                markerOptions.visible(<span class="keyword">false</span>);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                                <span class="comment">/* Add our marker to map and to list. */</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                                markerList.add(<a class="code" href="class_android_app_1_1_maps_activity.html#a373d4c770d2ab34538f9288d7c0e83ea">mMap</a>.addMarker(markerOptions));</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                                lastMarker = location;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                                <span class="comment">/* Changes camera to point to newest marker */</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                                <a class="code" href="class_android_app_1_1_maps_activity.html#a373d4c770d2ab34538f9288d7c0e83ea">mMap</a>.animateCamera(CameraUpdateFactory.newLatLngZoom(location, 16));</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                            }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                        }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                    }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                <a class="code" href="class_android_app_1_1_maps_activity.html#a373d4c770d2ab34538f9288d7c0e83ea">mMap</a>.addPolyline(lineOpts);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="keywordflow">catch</span> (JSONException e)</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                <span class="comment">/* Do nothing */</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    }</div><div class="ttc" id="logging-device_8ino_html_a548727e041a5cd3db91bdbd0ccd71e30"><div class="ttname"><a href="logging-device_8ino.html#a548727e041a5cd3db91bdbd0ccd71e30">gpsJSON</a></div><div class="ttdeci">JsonObject &amp; gpsJSON</div><div class="ttdoc">Holds all location related information. </div><div class="ttdef"><b>Definition:</b> logging-device.ino:86</div></div>
<div class="ttc" id="class_android_app_1_1_maps_activity_html_a77f66c756f18d56bd41f0ee1c889fb62"><div class="ttname"><a href="class_android_app_1_1_maps_activity.html#a77f66c756f18d56bd41f0ee1c889fb62">AndroidApp.MapsActivity.getBitmapDescriptor</a></div><div class="ttdeci">BitmapDescriptor getBitmapDescriptor(int id)</div><div class="ttdoc">Created a valid bitmap descriptor from a drawable resource ID. </div><div class="ttdef"><b>Definition:</b> MapsActivity.java:240</div></div>
<div class="ttc" id="class_android_app_1_1_maps_activity_html_a373d4c770d2ab34538f9288d7c0e83ea"><div class="ttname"><a href="class_android_app_1_1_maps_activity.html#a373d4c770d2ab34538f9288d7c0e83ea">AndroidApp.MapsActivity.mMap</a></div><div class="ttdeci">GoogleMap mMap</div><div class="ttdoc">Google maps object for plotting. </div><div class="ttdef"><b>Definition:</b> MapsActivity.java:53</div></div>
<div class="ttc" id="class_android_app_1_1_maps_activity_html_ad2fa23bd9f7f5a501e91329413608528"><div class="ttname"><a href="class_android_app_1_1_maps_activity.html#ad2fa23bd9f7f5a501e91329413608528">AndroidApp.MapsActivity.tripData</a></div><div class="ttdeci">ArrayList&lt; JSONObject &gt; tripData</div><div class="ttdoc">ArrayList holding all trip data. </div><div class="ttdef"><b>Definition:</b> MapsActivity.java:55</div></div>
<div class="ttc" id="class_android_app_1_1_maps_activity_html_aea9b9fe75f1d70e3c902c8348823efd0"><div class="ttname"><a href="class_android_app_1_1_maps_activity.html#aea9b9fe75f1d70e3c902c8348823efd0">AndroidApp.MapsActivity.calcDistance</a></div><div class="ttdeci">float calcDistance(LatLng start, LatLng end)</div><div class="ttdoc">Calculates the absolute distance between two points. </div><div class="ttdef"><b>Definition:</b> MapsActivity.java:123</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2f93b1f03094b96020cee7e06ce5fc85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f93b1f03094b96020cee7e06ce5fc85">&#9670;&nbsp;</a></span>convertDpToPixel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float AndroidApp.MapsActivity.convertDpToPixel </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Context&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for converting raw DP value to pixels. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dp</td><td>- DP value. </td></tr>
    <tr><td class="paramname">context</td><td>- Context of application. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>float - Value in pixels. </dd></dl>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                                                             {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        Resources resources = context.getResources();</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        DisplayMetrics metrics = resources.getDisplayMetrics();</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordtype">float</span> px = dp * ((float)metrics.densityDpi / DisplayMetrics.DENSITY_DEFAULT);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">return</span> px;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a77f66c756f18d56bd41f0ee1c889fb62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77f66c756f18d56bd41f0ee1c889fb62">&#9670;&nbsp;</a></span>getBitmapDescriptor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BitmapDescriptor AndroidApp.MapsActivity.getBitmapDescriptor </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Created a valid bitmap descriptor from a drawable resource ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>- Drawable resource ID. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>BitmapDescriptor - Bitmap image converted from VectorAsset. </dd></dl>
<div class="fragment"><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                                                         {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        Context context = getApplicationContext();</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        Drawable vectorDrawable = ContextCompat.getDrawable(context, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordtype">int</span> h = ((int) <a class="code" href="class_android_app_1_1_maps_activity.html#a2f93b1f03094b96020cee7e06ce5fc85">convertDpToPixel</a>(42, context));</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordtype">int</span> w = ((int) <a class="code" href="class_android_app_1_1_maps_activity.html#a2f93b1f03094b96020cee7e06ce5fc85">convertDpToPixel</a>(25, context));</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        vectorDrawable.setBounds(0, 0, w, h);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        Bitmap bm = Bitmap.createBitmap(w, h, Bitmap.Config.ARGB_8888);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        Canvas canvas = <span class="keyword">new</span> Canvas(bm);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        vectorDrawable.draw(canvas);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">return</span> BitmapDescriptorFactory.fromBitmap(bm);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    }</div><div class="ttc" id="class_android_app_1_1_maps_activity_html_a2f93b1f03094b96020cee7e06ce5fc85"><div class="ttname"><a href="class_android_app_1_1_maps_activity.html#a2f93b1f03094b96020cee7e06ce5fc85">AndroidApp.MapsActivity.convertDpToPixel</a></div><div class="ttdeci">float convertDpToPixel(float dp, Context context)</div><div class="ttdoc">Function for converting raw DP value to pixels. </div><div class="ttdef"><b>Definition:</b> MapsActivity.java:227</div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>android-app/app/src/main/java/com/jack/motorbikestatistics/<a class="el" href="_maps_activity_8java.html">MapsActivity.java</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
